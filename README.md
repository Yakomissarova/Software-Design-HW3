# AntiPlagiarism
Этот проект - микросервисная система, которая позволяет студентам отправлять работы, а преподавателям получать отчёты о плагиате.
Архитектура построена на двух сервисах: сервис хранения файлов и сервис проверки, а также маршрутизирующем gateway. Работа написана на C# (.NET)

Комиссарова Юлия БПИ249

Конструирование программного обеспечения
Домашнее задание №3.

Сборка проекта
Требования:
- Установлен .NET 8.0
- Среда разработки: JetBrains Rider (рекомендуется) или Visual Studio.
- Docker (20+ версия)
- Docker Compose
- Порты, которые должны быть свободны:
    - 5001 Storage Service (Swagger)
    - 5002 Check Service (Swagger)
    - 8080 API Gateway + Scalar UI

Инструкция по запуску:
- Клонировать репозиторий:
    - git clone <your_repo>
    - cd AntiPlagiarism

- Поднять всю систему:
docker compose up --build

- После успешного запуска будут доступны:

Storage Service (сохранение файлов)
Swagger UI:

http://localhost:5001/swagger

Check Service (проверка работ и отчёты)
Swagger UI:

http://localhost:5002/swagger

API Gateway (единая точка входа)

http://localhost:8080/

Scalar — визуальная документация по всем API
http://localhost:8080/scalar


1. Общая идея решения

Проект представляет собой микросервисную систему для проверки учебных работ на плагиат. Архитектура организована по принципам чистой архитектуры (DDD):

Entities - доменные сущности, не зависящие от инфраструктуры

UseCases - бизнес-логика (создание сдачи, анализ, отчёты)

Infrastructure - работа с базой данных (EF Core), HTTP-клиенты, миграции

Presentation - REST API контроллеры

Host - настройка сервисов, Swagger

2. Архитектура

- Storage Service:
    - хранит файлы, которые отправляют студенты:
    - сохраняет файл на диск
    - записывает метаданные в SQLite
    - отдаёт файл по id

- Check Service
    - регистрирует сдачу работы
    - вычисляет хэш содержимого файла
    - осуществляет проверку плагиата
    - выдает отчёты

- API Gateway
Маршрутизатор:

/files -> storage-service

/submissions -> check-service

/assignments -> check-service

/scalar -> scalar UI

3. Идея проверки плагиата

Для определения плагиата используется хэш содержимого (SHA-256):

- При загрузке файла в Check Service:

    - файл читается в память
    - хэш считается
    - файл отправляется в Storage Service
    - создаётся запись Submission с полями:
        - StudentId
        - AssignmentId
        - FileId
        - ContentHash
        - SubmittedAt

- В момент анализа:
    - собираются все сдачи по одному заданию
    - если есть раньше сданная работа с таким же ContentHash, то:
        - similarity = 1
        - isPlagiarism = true
        - details = "same file content submitted earlier"

То есть система определяет плагиат не по оригинальному имени файла, а по фактическому содержимому.


4. Реализация критериев
- Микросервисная архитектура состоящая из двух микросервисов + API gateway описана выше
- Контейнеризация:
    - Каждый сервис имеет свой Dockerfile (проект Host).
    - docker-compose.yml поднимает всю систему автоматически.
    - Сервисы соединены через внутреннюю сеть.
    - SQLite и файлы вынесены в Docker volumes.
- Swagger:
   - Каждый сервис имеет свой Swagger (/swagger)
   - Поднят единый UI документирования — Scalar (/scalar)



